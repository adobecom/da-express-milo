/**
 * Floating Search - Suggestions Dropdown Styles
 * Lazy-loaded when createSuggestionsDropdown is called
 * 
 * Mobile-first approach:
 *   Base: Mobile (< 768px)
 *   768px+: Tablet
 *   1024px+: Desktop
 */

/* ==============================================
   Suggestions Dropdown Container
   ============================================== */

.search-suggestions-dropdown {
  inline-size: 100%;
  position: absolute;
  inset-block-start: 100%;
  background: var(--fs-color-bg-primary, var(--spectrum-gray-50, #fff));
  border: 1px solid var(--fs-color-bg-active, var(--spectrum-gray-200, #e6e6e6));
  border-radius: var(--spectrum-corner-radius-200, 16px);
  box-shadow: var(--spectrum-drop-shadow-emphasis, 0 8px 16px rgba(0, 0, 0, 0.15));
  overflow: hidden;
  margin-block-start: var(--fs-spacing-xs, var(--spectrum-spacing-100, 4px));
}

/* Hidden state */
.search-suggestions-dropdown.hidden {
  display: none;
}

/* Legacy hidden attribute support */
.search-suggestions-dropdown[hidden] {
  display: none;
}

/* ==============================================
   Suggestions Header
   ============================================== */

.suggestions-header {
  padding-block: var(--fs-spacing-sm, 12px);
  padding-inline: var(--fs-spacing-md, 16px);
  font-size: var(--spectrum-font-size-100, 14px);
  font-weight: 700;
  color: var(--fs-color-text-primary, var(--spectrum-gray-900, #1d1d1d));
}

/* ==============================================
   Suggestions List
   ============================================== */

.suggestions-list {
  padding: 0;
  margin: 0;
  list-style: none;
}

/* ==============================================
   Suggestion Item
   ============================================== */

.suggestion-item {
  display: flex;
  align-items: center;
  gap: var(--fs-spacing-sm, var(--spectrum-spacing-200, 12px));
  padding-block: var(--fs-spacing-sm, 12px);
  padding-inline: var(--fs-spacing-md, 16px);
  cursor: pointer;
  transition: background-color var(--fs-transition-fast, 130ms) var(--fs-easing-default, ease);
}

.suggestion-item:hover,
.suggestion-item.is-selected {
  background-color: var(--fs-color-bg-hover, var(--spectrum-gray-100, #f5f5f5));
}

.suggestion-item:focus {
  outline: none;
  background-color: var(--fs-color-bg-hover, var(--spectrum-gray-100, #f5f5f5));
}

.suggestion-item:focus-visible {
  outline: var(--fs-focus-width, 2px) solid var(--fs-focus-color, #0265dc);
  outline-offset: calc(-1 * var(--fs-focus-width, 2px));
}

.suggestion-item:last-child {
  border-end-start-radius: var(--spectrum-corner-radius-200, 16px);
  border-end-end-radius: var(--spectrum-corner-radius-200, 16px);
}

/* ==============================================
   Suggestion Icon
   ============================================== */

.suggestion-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  inline-size: var(--spectrum-icon-size-200, 20px);
  block-size: var(--spectrum-icon-size-200, 20px);
  color: var(--fs-color-text-secondary, var(--spectrum-gray-700, #505050));
}

.suggestion-icon svg {
  inline-size: 100%;
  block-size: 100%;
}

/* ==============================================
   Suggestion Text
   ============================================== */

.suggestion-text {
  display: flex;
  flex-direction: column;
  gap: var(--fs-spacing-xxs, var(--spectrum-spacing-50, 2px));
  min-inline-size: 0;
}

.suggestion-label {
  font-size: var(--spectrum-font-size-200, 16px);
  font-weight: 400;
  line-height: 1.3;
  color: var(--fs-color-text-primary, var(--spectrum-gray-900, #1d1d1d));
}

.suggestion-type {
  font-size: var(--spectrum-font-size-75, 12px);
  font-weight: 400;
  line-height: 1.3;
  color: var(--fs-color-text-tertiary, var(--spectrum-gray-600, #6d6d6d));
}

.suggestion-subtext {
  font-size: var(--spectrum-font-size-75, 12px);
  font-weight: 400;
  line-height: 1.3;
  color: var(--fs-color-text-secondary, var(--spectrum-gray-700, #505050));
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* ==============================================
   Suggestion Thumbnail
   ============================================== */

.suggestion-thumbnail {
  flex-shrink: 0;
  inline-size: var(--fs-thumbnail-size, 40px);
  block-size: var(--fs-thumbnail-size, 40px);
  border-radius: var(--spectrum-corner-radius-100, 4px);
  overflow: hidden;
  background-color: var(--fs-color-bg-active, var(--spectrum-gray-200, #e6e6e6));
}

.suggestion-thumbnail img {
  inline-size: 100%;
  block-size: 100%;
  object-fit: cover;
}

/* ==============================================
   Empty State
   ============================================== */

.suggestions-empty {
  padding-block: var(--fs-spacing-lg, 24px);
  padding-inline: var(--fs-spacing-md, 16px);
  text-align: center;
  font-size: var(--spectrum-font-size-100, 14px);
  color: var(--fs-color-text-tertiary, var(--spectrum-gray-600, #6d6d6d));
}

.suggestions-empty.hidden {
  display: none;
}

/* ==============================================
   Sticky Clone Position (dropdown above)
   ============================================== */

.is-sticky-clone .search-suggestions-dropdown {
  inset-block-start: auto;
  inset-block-end: 100%;
  margin-block-start: 0;
  margin-block-end: var(--fs-spacing-xs, var(--spectrum-spacing-100, 4px));
}

/* ==============================================
   Tablet Breakpoint (768px+)
   ============================================== */

@media (min-width: 768px) {
  .suggestions-header {
    padding-block: var(--fs-spacing-md, 16px);
    padding-inline: var(--fs-spacing-lg, 24px);
  }

  .suggestion-item {
    padding-block: var(--fs-spacing-md, 16px);
    padding-inline: var(--fs-spacing-lg, 24px);
    gap: var(--fs-spacing-md, var(--spectrum-spacing-300, 16px));
  }

  .suggestion-thumbnail {
    inline-size: var(--fs-thumbnail-size-tablet, 48px);
    block-size: var(--fs-thumbnail-size-tablet, 48px);
  }

  .suggestions-empty {
    padding-block: var(--fs-spacing-xl, 32px);
    padding-inline: var(--fs-spacing-lg, 24px);
  }
}

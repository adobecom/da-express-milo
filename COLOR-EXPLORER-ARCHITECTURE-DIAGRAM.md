# ğŸ¨ Color Explorer Architecture Diagram

**Pattern:** Functional Factory with Closures & Composition  
**Date:** January 12, 2026

---

## ğŸ“ High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       COLOR EXPLORER                             â”‚
â”‚                    (Single Entry Point)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ 1. Parse authoring config
                              â”‚ 2. Fetch data
                              â”‚ 3. Create renderer
                              â”‚ 4. Connect events
                              â”‚
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          color-explorer.js (Entry Point)         â”‚
        â”‚                                                  â”‚
        â”‚  function decorate(block) {                      â”‚
        â”‚    â€¢ parseConfig(block)                          â”‚
        â”‚    â€¢ createColorDataService(config)              â”‚
        â”‚    â€¢ createColorRenderer(variant, options)       â”‚
        â”‚    â€¢ createColorModalManager(options)            â”‚
        â”‚    â€¢ Connect events & render                     â”‚
        â”‚  }                                               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚             â”‚             â”‚
                â–¼             â–¼             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Factory  â”‚  â”‚  Service  â”‚  â”‚  Modal   â”‚
        â”‚ createColorâ”‚  â”‚ createColorâ”‚  â”‚createColorâ”‚
        â”‚  Renderer â”‚  â”‚DataServiceâ”‚  â”‚ModalMgr  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚             â”‚             â”‚
                â”‚             â”‚             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚             â”‚
    â”‚           â”‚        â”‚    â”‚             â”‚
    â–¼           â–¼        â–¼    â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Gradientsâ”‚â”‚ Strips  â”‚â”‚ Extract â”‚    â”‚ Shared   â”‚
â”‚Renderer â”‚â”‚Renderer â”‚â”‚Renderer â”‚    â”‚ Actions  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚           â”‚           â”‚              â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   UI Output   â”‚
              â”‚  (Grid/Cards) â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow

```
Authoring (HTML)
      â”‚
      â”‚ Block table with config
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ parseConfig()    â”‚
â”‚  â€¢ variant type  â”‚
â”‚  â€¢ API endpoint  â”‚
â”‚  â€¢ limits        â”‚
â”‚  â€¢ filters       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ createColorDataService  â”‚
â”‚  â€¢ fetch(options)       â”‚
â”‚  â€¢ cache management     â”‚
â”‚  â€¢ API calls            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                             â”‚
      â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Request  â”‚            â”‚ Mock Data    â”‚
â”‚ /api/color/* â”‚            â”‚ (localhost)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                             â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚   Data   â”‚
           â”‚ (Array)  â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ createColorRenderer()      â”‚
â”‚  Registry lookup:          â”‚
â”‚   â€¢ gradients â†’ createGrad â”‚
â”‚   â€¢ strips â†’ createStrips  â”‚
â”‚   â€¢ extract â†’ createExtractâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Specific Renderer Function â”‚
â”‚  â€¢ render(container)       â”‚
â”‚  â€¢ update(newData)         â”‚
â”‚  â€¢ on(event, callback)     â”‚
â”‚  â€¢ emit(event, data)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  DOM Output  â”‚
         â”‚  (Grid/UI)   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ­ Factory Pattern Detail

```
createColorRenderer(variant, options)
                â”‚
                â”‚ Lookup variant in registry
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Renderer Registry (Object)       â”‚
â”‚                                       â”‚
â”‚  {                                    â”‚
â”‚    gradients: {                       â”‚
â”‚      create: createGradientsRenderer, â”‚
â”‚      defaultConfig: {...}             â”‚
â”‚    },                                 â”‚
â”‚    strips: {                          â”‚
â”‚      create: createStripsRenderer,    â”‚
â”‚      defaultConfig: {...}             â”‚
â”‚    },                                 â”‚
â”‚    extract: {                         â”‚
â”‚      create: createExtractRenderer,   â”‚
â”‚      defaultConfig: {...}             â”‚
â”‚    },                                 â”‚
â”‚    default: { ... }                   â”‚
â”‚  }                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ registry[variant].create(options)
                â”‚
                â–¼
        Renderer Instance
           (Object)
```

---

## ğŸ¯ Renderer Composition Pattern

```
createGradientsRenderer(options)
            â”‚
            â”‚ Compose with base
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  createBaseRenderer(options)    â”‚
â”‚                                 â”‚
â”‚  Closure State:                 â”‚
â”‚   â€¢ data                        â”‚
â”‚   â€¢ controller                  â”‚
â”‚   â€¢ config                      â”‚
â”‚   â€¢ eventListeners              â”‚
â”‚                                 â”‚
â”‚  Public API:                    â”‚
â”‚   â€¢ on(event, callback)         â”‚
â”‚   â€¢ emit(event, data)           â”‚
â”‚   â€¢ createCard(item)            â”‚
â”‚   â€¢ createGrid()                â”‚
â”‚   â€¢ getData()                   â”‚
â”‚   â€¢ setData(data)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ const base = createBaseRenderer(options)
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  createGradientsRenderer                â”‚
â”‚                                         â”‚
â”‚  const base = createBaseRenderer(opts); â”‚
â”‚                                         â”‚
â”‚  Closure State (specific):              â”‚
â”‚   â€¢ gridElement                         â”‚
â”‚                                         â”‚
â”‚  Functions (specific):                  â”‚
â”‚   â€¢ render() { ... }                    â”‚
â”‚   â€¢ update(newData) { ... }             â”‚
â”‚   â€¢ createGradientCard(gradient) { ... }â”‚
â”‚                                         â”‚
â”‚  Return:                                â”‚
â”‚   { ...base, render, update }           â”‚
â”‚                                         â”‚
â”‚  Composition: Base + Specific           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— Event Flow

```
User Interaction
      â”‚
      â”‚ (click, search, filter)
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Renderer        â”‚
â”‚  emit(event)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ Event bubbles up
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  color-explorer  â”‚
â”‚  .on(event, cb)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€â”€â”€ 'item-click' â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                               â”‚
      â”œâ”€â”€â”€ 'search' â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
      â”‚                           â”‚   â”‚
      â””â”€â”€â”€ 'filter' â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
                           â”‚      â”‚   â”‚
                           â–¼      â–¼   â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚  Event Handlers     â”‚
                      â”‚  â€¢ Open modal       â”‚
                      â”‚  â€¢ Fetch new data   â”‚
                      â”‚  â€¢ Update renderer  â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”€ Renderer Variants

```
                createColorRenderer()
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚               â”‚
         â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   GRADIENTS     â”‚â”‚   STRIPS    â”‚â”‚   EXTRACT   â”‚
â”‚                 â”‚â”‚             â”‚â”‚             â”‚
â”‚  Grid of        â”‚â”‚  Grid of    â”‚â”‚  Upload +   â”‚
â”‚  gradient cards â”‚â”‚  palette    â”‚â”‚  extract    â”‚
â”‚  with visual +  â”‚â”‚  strips     â”‚â”‚  results    â”‚
â”‚  color palette  â”‚â”‚             â”‚â”‚             â”‚
â”‚                 â”‚â”‚             â”‚â”‚             â”‚
â”‚  â€¢ Linear       â”‚â”‚  â€¢ 5 colors â”‚â”‚  â€¢ Image    â”‚
â”‚  â€¢ Radial       â”‚â”‚  â€¢ Horiz.   â”‚â”‚  â€¢ Camera   â”‚
â”‚  â€¢ Conic        â”‚â”‚  â€¢ Tags     â”‚â”‚  â€¢ Palettes â”‚
â”‚                 â”‚â”‚             â”‚â”‚             â”‚
â”‚  Search: âœ…     â”‚â”‚  Search: âœ… â”‚â”‚  Search: âŒ â”‚
â”‚  Filters: âœ…    â”‚â”‚  Filters: âœ…â”‚â”‚  Filters: âŒâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚               â”‚               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  Shared Modal   â”‚
                â”‚  (All variants) â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Module Structure

```
express/code/blocks/color-explorer/
â”‚
â”œâ”€â”€ color-explorer.js â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” (Entry Point)
â”‚                                  â”‚ â€¢ Orchestrates everything
â”‚                                  â”‚ â€¢ Parses config
â”‚                                  â”‚ â€¢ Creates instances
â”‚                                  â”‚ â€¢ Connects events
â”‚
â”œâ”€â”€ factory/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â””â”€â”€ createColorRenderer.js    â”‚ (Factory Function)
â”‚                                  â”‚ â€¢ Registry of renderers
â”‚                                  â”‚ â€¢ Selects & creates renderer
â”‚                                  â”‚ â€¢ Merges config
â”‚
â”œâ”€â”€ renderers/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”œâ”€â”€ createBaseRenderer.js     â”‚ (Base Composition)
â”‚   â”‚                              â”‚ â€¢ Common utilities
â”‚   â”‚                              â”‚ â€¢ Event system
â”‚   â”‚                              â”‚ â€¢ Shared state
â”‚   â”‚
â”‚   â”œâ”€â”€ createGradientsRenderer.jsâ”‚ (Gradient Variant)
â”‚   â”‚                              â”‚ â€¢ Gradient cards
â”‚   â”‚                              â”‚ â€¢ Search UI
â”‚   â”‚                              â”‚ â€¢ Grid layout
â”‚   â”‚
â”‚   â”œâ”€â”€ createStripsRenderer.js   â”‚ (Strips Variant)
â”‚   â”‚                              â”‚ â€¢ Palette strips
â”‚   â”‚                              â”‚ â€¢ Horizontal layout
â”‚   â”‚
â”‚   â””â”€â”€ createExtractRenderer.js  â”‚ (Extract Variant)
â”‚                                  â”‚ â€¢ Upload UI
â”‚                                  â”‚ â€¢ Image extraction
â”‚                                  â”‚ â€¢ Results display
â”‚
â”œâ”€â”€ services/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â””â”€â”€ createColorDataService.js â”‚ (Data Management)
â”‚                                  â”‚ â€¢ API calls
â”‚                                  â”‚ â€¢ Cache (closure)
â”‚                                  â”‚ â€¢ Mock data
â”‚
â””â”€â”€ modal/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â””â”€â”€ createColorModalManager.jsâ”‚ (Shared Modal)
                                   â”‚ â€¢ Open/close
                                   â”‚ â€¢ Variant content
                                   â”‚ â€¢ Actions (save/share)
```

---

## ğŸ¨ Color-poc Component Integration

```
color-explorer (Our Code)
      â”‚
      â”‚ Uses web components from color-poc
      â”‚
      â”œâ”€â”€â”€ <color-palette> â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                             â”‚
      â”œâ”€â”€â”€ <color-swatch-rail> â”€â”€â”€â”€â”€â”¤
      â”‚                             â”‚
      â”œâ”€â”€â”€ <color-search> â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                             â”‚
      â”œâ”€â”€â”€ <ac-brand-libraries- â”€â”€â”€â”€â”¤
      â”‚     color-picker>           â”‚
      â”‚                             â”‚
      â””â”€â”€â”€ ColorThemeController â”€â”€â”€â”€â”˜
           (Class from library - OK)
                  â”‚
                  â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  color-poc Library     â”‚
      â”‚  (External Components) â”‚
      â”‚                        â”‚
      â”‚  â€¢ Palette display     â”‚
      â”‚  â€¢ CC Libraries save   â”‚
      â”‚  â€¢ Search UI           â”‚
      â”‚  â€¢ State management    â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ColorThemeController                â”‚
â”‚        (from color-poc library)            â”‚
â”‚                                            â”‚
â”‚  â€¢ Central state for color operations      â”‚
â”‚  â€¢ Subscription pattern                    â”‚
â”‚  â€¢ Harmony generation                      â”‚
â”‚  â€¢ Theme management                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ Subscribe
                    â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚             â”‚             â”‚
      â–¼             â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Renderer â”‚  â”‚  Modal   â”‚  â”‚Analytics â”‚
â”‚ Updates  â”‚  â”‚ Updates  â”‚  â”‚ Events   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Authoring Examples

### Example 1: Gradients Explorer
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Color Explorer (gradients)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ API Endpoint | /api/color/gradients  â”‚
â”‚ Limit        | 24                    â”‚
â”‚ Search       | true                  â”‚
â”‚ Modal Type   | full-screen           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Creates: Gradients Renderer
```

### Example 2: Color Strips
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Color Explorer (strips)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ API Endpoint | /api/color/palettes   â”‚
â”‚ Limit        | 30                    â”‚
â”‚ Filters      | warm, pastel          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Creates: Strips Renderer
```

### Example 3: Image Extract
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Color Explorer (extract)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Modal Type   | drawer                â”‚
â”‚ Max Results  | 5                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Creates: Extract Renderer
```

---

## ğŸ“Š Benefits Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SINGLE ENTRY POINT                            â”‚
â”‚  â€¢ One block, multiple modes                   â”‚
â”‚  â€¢ Consistent authoring                        â”‚
â”‚  â€¢ Easy to configure                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FACTORY PATTERN                               â”‚
â”‚  â€¢ Automatic variant selection                 â”‚
â”‚  â€¢ Easy to extend (register new renderer)      â”‚
â”‚  â€¢ Clean separation of concerns                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FUNCTIONAL COMPOSITION                        â”‚
â”‚  â€¢ No classes, no this                         â”‚
â”‚  â€¢ Closures for encapsulation                  â”‚
â”‚  â€¢ Simple, testable functions                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SHARED MODAL                                  â”‚
â”‚  â€¢ One modal for all variants                  â”‚
â”‚  â€¢ Consistent UX                               â”‚
â”‚  â€¢ Reduced code duplication                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MODULAR & TESTABLE                            â”‚
â”‚  â€¢ Each renderer independent                   â”‚
â”‚  â€¢ Easy to unit test                           â”‚
â”‚  â€¢ Clear dependencies                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Legend:**
- ğŸ“ = Architecture
- ğŸ”„ = Data Flow
- ğŸ­ = Factory
- ğŸ¯ = Composition
- ğŸ”— = Events
- ğŸ”€ = Variants
- ğŸ“¦ = Structure
- ğŸ¨ = Integration

**Created:** January 12, 2026  
**For:** Color Explorer Implementation

